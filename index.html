<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu</title>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <style>
        @media(max-width:768px){ .header{flex-direction:column; gap:10px;} .search-bar{width:100%;} }
        .rating-stars { color:gold; }
        .old-price { text-decoration: line-through; color: #aaa; font-size: 12px; margin-right: 5px;}
    </style>
</head>
<body>
    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="logo">Food<span>Menu</span></div>
            <ul class="menu-list">
                <li class="menu-item active" onclick="showMenu()"><i class="ri-restaurant-2-line"></i> <span>Menu</span></li>
                <li class="menu-item" onclick="openCart()"><i class="ri-shopping-cart-2-line"></i> <span>Cart</span></li>
                <li class="menu-item" onclick="showHistory()"><i class="ri-history-line"></i> <span>History</span></li>
                <li class="menu-item" onclick="openReserve()"><i class="ri-calendar-event-line"></i> <span>Reserve</span></li>
                <li class="menu-item" onclick="showLeaderboard()"><i class="ri-trophy-line"></i> <span>Top Users</span></li>
            </ul>
        </aside>

        <main class="main-content">
            <header class="header">
                <div class="search-bar"><i class="ri-search-line"></i><input id="search" placeholder="Search food..." oninput="filterMenu()"></div>
                <div class="user-profile" id="user-name-display">Guest</div>
            </header>

            <div id="content-area"></div>
        </main>
    </div>

    <!-- Modals -->
    <!-- 1. Signup Modal (اصلاح شده: نام و نام خانوادگی جدا) -->
    <div id="signup-modal" class="modal" style="display:none;">
        <div class="modal-content">
            <h3>Welcome! Please Register</h3>
            <div class="form-group"><label class="required">First Name</label><input id="reg-fname" class="form-control"></div>
            <div class="form-group"><label class="required">Last Name</label><input id="reg-lname" class="form-control"></div>
            <div class="form-group"><label class="required">Phone Number</label><input id="reg-phone" class="form-control"></div>
            <button class="btn" onclick="registerUser()">Start Ordering</button>
        </div>
    </div>

    <!-- 2. Reservation Modal -->
    <div id="reserve-modal" class="modal">
        <div class="modal-content">
            <h3>Book a Table</h3>
            <div class="form-group"><label class="required">First Name</label><input id="res-fname" class="form-control"></div>
            <div class="form-group"><label class="required">Last Name</label><input id="res-lname" class="form-control"></div>
            <div class="form-group"><label class="required">Phone</label><input id="res-phone" class="form-control"></div>
            <div class="form-group"><label class="required">Guests</label><input id="res-guests" type="number" class="form-control"></div>
            <div class="form-group"><label class="required">Date</label><input id="res-date" type="date" class="form-control"></div>
            <div class="form-group"><label class="required">Time</label><input id="res-time" type="time" class="form-control"></div>
            <button class="btn" onclick="submitReserve()">Book Now</button>
            <button class="btn btn-outline" onclick="document.getElementById('reserve-modal').style.display='none'">Close</button>
        </div>
    </div>

    <script src="customer.js"></script>
</body>
</html>
